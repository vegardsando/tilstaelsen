function visadminBar(){addStylesheet(),addFavicon(),adminBar(),"PROD"!=ENV?addBrowserSync():addTestDropdown(),adminUser&&console.log("%c You are an admin!","background: #f4b638; color: #222; font-weight: bold; padding: 5px; border-left: 3px solid #222;")}function autoDBdump(e){var e="undefined"!=typeof e?"&force":"",n=new XMLHttpRequest;n.open("GET","/static/php/admin/auto_db_dump.php?ENV="+ENV+e,!0),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){if(json=JSON.parse(n.responseText),"undefined"!=typeof json.html&&(id="dump_"+100*Math.random(),outer=document.createElement("div"),outer.id=id,outer.innerHTML=json.html,document.body.appendChild(outer),setTimeout(function(){document.getElementById(id).remove()},3e3)),"undefined"!=typeof json.console){if(1===json.code)var e="background: #1FBE7B; color: #fff;";else if(3===json.code)var e="background: #e54545; color: #fff;";else var e="background: #e3e3e3; color: #222;";console.info("%c"+json.console,e+"padding: 5px; font-size: 10px; line-height: 20px;")}setTimeout(function(){autoDBdump()},3e5)}},n.send()}function adminBar(){document.body.innerHTML+='<div id="devmode" class="'+adminplacement+" "+ENV+'"><div id="devmode_adminbar"></div></div>';var e=new XMLHttpRequest;e.open("GET","/static/php/admin/adminBar.php",!0),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(autoDBdump(),json=JSON.parse(e.responseText),"undefined"!=typeof json.bar&&(document.getElementById("devmode_adminbar").innerHTML='<button onclick="autoDBdump(true)" class="icon database" title="DB dump"></button>'+json.bar+document.getElementById("devmode_adminbar").innerHTML,addAssetsDownloadLink(),addAdminLink()))},"PROD"!=ENV?e.send():addAdminLink()}function getDeployRSS(e){if(DeployRSS_start){document.body.appendChild(DeployRSSdiv),document.documentElement.className=document.documentElement.className.replace(/\b visDeployRSS\b/,"")+" visDeployRSS",DeployRSSdiv.className="vis",DeployRSS_start=!1,document.getElementById("DeployRSS").innerHTML="<div><center>Loading DeployHQ rss ...</center></div>";var n=new XMLHttpRequest;n.open("GET","/static/php/admin/deployhq_rss.php?rss="+e,!0),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&(DeployRSSdiv.innerHTML=n.responseText,DeployRSS_start=!0)},n.send()}}function closeDeployRSS(){DeployRSSdiv.className="",DeployRSSdiv.innerHTML="",document.documentElement.className=document.documentElement.className.replace(/\b visDeployRSS\b/,"")}function addStylesheet(){var e=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.href="/dist/admin/admin.min.css?"+Date.now(),e.appendChild(n)}function addFavicon(){function e(){n.drawImage(this,6,6,26,26),n.fillStyle="#000",n.beginPath(),n.globalAlpha=.5,n.arc(13,13,11,0,2*Math.PI),n.fill(),n.beginPath(),n.fillStyle=i,n.globalAlpha=1,n.arc(11,11,11,0,2*Math.PI),n.fill(),n.font='14px "helvetica", sans-serif',n.fillStyle="#ffffff",n.fillText(ENV[0],6,16),a.href=t.toDataURL("image/png"),document.getElementsByTagName("head")[0].appendChild(a)}var n,t=document.createElement("canvas"),o=document.createElement("img"),a=document.createElement("link"),d=ENV.toLowerCase(),i="#f4b638";if(a.rel="shortcut icon",a.type="image/png",a.sizes="32x32",t.getContext){for(var s=document.querySelectorAll('[rel="icon"],[rel="shortcut icon"]'),l=0;l<s.length;++l)s[l].rel="#";"local"===d?i="#e54545":"production"!==d&&"prod"!==d||(i="#1fbe7b"),t.height=t.width=32,n=t.getContext("2d"),o.onload=e,o.src="/favicon.ico"}}function sjekkGA(){"PROD"==ENV&&manglerGA&&(console.log("%c Google Analytics mangler!","background: #e54545; color: #fff; padding: 5px;"),document.getElementById("devmode_adminbar").innerHTML='<span class="icon alert ga-mangler"> GA mangler</span>'+document.getElementById("devmode_adminbar").innerHTML)}function addBrowserSync(){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.async=!0,n.src="//HOST:3000/browser-sync/browser-sync-client.js".replace("HOST",location.hostname),e.appendChild(n)}function addTestDropdown(){var e=location.protocol+"//"+location.hostname,n=document.createElement("div");n.innerHTML='<select name="Browsercheck" onchange="window.open( this.options[ this.selectedIndex ].value, \'_blank\')"><option disabled selected># Browsercheck</option><option value="https://developers.google.com/speed/pagespeed/insights/?url='+e+'">PageSpeed Insight</option><option value="https://gtmetrix.com/">GTmetrix</option><option value="http://www.webpagetest.org/">Webpagetest</option><option disabled ># SEO</option><option value="https://www.woorank.com/">Woorank</option><option value="http://realfavicongenerator.net/favicon_checker?site='+e+'&ignore_root_issues=on">Sjekk favicon</option></select>',document.getElementById("devmode_adminbar").appendChild(n)}function addAdminLink(){var e=adminUser?"logged-in":"";document.getElementById("devmode_adminbar").innerHTML='<a href="/admin" target="_blank" class="icon login '+e+'" title="Admin '+e+'"></a>'+document.getElementById("devmode_adminbar").innerHTML,sjekkGA()}function addAssetsDownloadLink(){adminUser&&(document.getElementById("devmode_adminbar").innerHTML='<a href="/dist/php/assets" target="_blank" class="icon assets" title="Last ned assets"></a>'+document.getElementById("devmode_adminbar").innerHTML)}var adminplacement="undefined"!=typeof adminplacement?adminplacement:"",ENV="undefined"!=typeof ENV?ENV:"",adminUser="undefined"!=typeof adminUser&&adminUser,manglerGA="function"!=typeof ga&&"undefined"==typeof dataLayer;visadminBar();var DeployRSSdiv=document.createElement("div");DeployRSSdiv.id="DeployRSS";var DeployRSS_start=!0;